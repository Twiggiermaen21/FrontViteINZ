import { toPng } from 'html-to-image';
const headerRef = useRef();
const bottomRef = useRef();
  const download = (dataUrl, filename) => {
    const link = document.createElement("a");
    link.download = filename;
    link.href = dataUrl;
    link.click();
  };

const handleSaveCalendar = async () => {
    if (style === "style1" || style === "style2") {
      try {
        const [headerImg, bottomImg] = await Promise.all([
          toPng(headerRef.current, { pixelRatio: 10 }),
          toPng(bottomRef.current, { pixelRatio: 10 }),
        ]);

        download(headerImg, "kalendarz-naglowek.png");
        download(bottomImg, "kalendarz-dol.png");
      } catch (err) {
        console.error("Błąd podczas generowania obrazów:", err);
      }
    }

    if (style === "style3") {
      if (!image || !backgroundImage) {
        alert("Brakuje obrazów do eksportu");
        return;
      }

      alert(`Linki do obrazów:\nNagłówek: ${image}\nTło: ${backgroundImage}`);
      console.log("Obrazy kalendarza:", { naglowek: image, tlo: backgroundImage });
    }
  };